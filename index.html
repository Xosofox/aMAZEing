<!DOCTYPE html>
<html>
    <head>
        <title>aMAZEing</title>
    </head>
    <body>
        <h1>aMAZEing</h1>

        <div id="mazecontainer">
            <input type="checkbox" name="watch" id="watch"><label for="watch">Watch how maze is being generated</label>
            <input type="button" name="start" value="Start" id="start"><br />
            <canvas id="mazeview" width="200" height="200"></canvas>
        </div>

        <script type="text/javascript" src="js/lib/jquery.min.js"></script>
        <script type="text/javascript" src="js/lib/underscore-min.js"></script>
        <script type="text/javascript" src="js/lib/backbone-min.js"></script>

        <script type="text/javascript" src="js/models/Maze.js"></script>
        <script type="text/javascript" src="js/models/Cell.js"></script>
        <script type="text/javascript" src="js/views/MazeView.js"></script>

        <script type="text/javascript">
            var maze;
            var mazeView
            $(document).ready(function () {
                var ROWS=40;
                var COLS=40;
                maze = new Maze({
                    rows:ROWS,
                    cols:COLS
                    //stepDelay:0
                });
                mazeView = new MazeView({
                    el: '#mazeview',
                    model:maze,
                    size:10,
                    border:1,
                    zoom: 1,
                    bgColorStyle: "black",
                    fgColorStyle: "pink"
                });
                mazeView.render();
                maze.setStart([0,0]);
                maze.setExit([ROWS-1,COLS-1]);
                //maze.startDigging([0,0]);

                $('#start').click(function() {
                    if ($('#watch').is(':checked')) {
                        maze.set("stepDelay",0);
                    } else {
                        maze.set("stepDelay",-1);
                    }
                    maze.reset();
                    maze.startDigging([0,0]);
                });
            });
        </script>
    </body>
</html>
